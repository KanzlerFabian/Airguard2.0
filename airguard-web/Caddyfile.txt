:80 {
    encode gzip zstd
    tls internal

    @dashboard path /dashboard* /assets/* /styles.css /app.js /lib/*
    handle @dashboard {
        header {
            Referrer-Policy "no-referrer"
            Permissions-Policy "geolocation=(), camera=(), microphone=()"
            X-Frame-Options "DENY"
            Cache-Control "no-cache"
        }
        reverse_proxy 127.0.0.1:8088
    }

    handle {
        respond "Not found" 404
    }

    log {
        output file /var/log/caddy/airguardpi.log
    }
}